<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>To-Do web App</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: url("https://images.unsplash.com/photo-1506784365847-bbad939e9335?auto=format&fit=crop&w=1920&q=80") no-repeat center center fixed;
      background-size: cover;
    }
    .overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.6);
      z-index: -1;
    }
    .fade-in {
      animation: fadeIn 0.6s ease forwards;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(15px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .pop {
      animation: popIn 0.3s ease;
    }
    @keyframes popIn {
      0% { transform: scale(0.8); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }
  </style>
</head>
<body class="text-white min-h-screen flex flex-col">

  <!-- Background overlay -->
  <div class="overlay"></div>

  <!-- Header -->
  <header class="text-center py-6 fade-in">
    <h1 class="text-4xl font-bold drop-shadow-lg">ğŸŒŸ Plan Today, Win Tomorrow</h1>
    <p class="mt-2 text-lg italic text-gray-200">â€œYour future is created by what you do today, not tomorrow.â€</p>
    <img src="https://media.giphy.com/media/LHZyixOnHwDDy/giphy.gif" 
         alt="Success animation" 
         class="mx-auto mt-4 w-28 rounded-full shadow-lg border-2 border-white">
  </header>

  <!-- Main Content Grid -->
  <main class="flex-1 p-6 grid md:grid-cols-3 gap-6 max-w-6xl mx-auto w-full">

    <!-- Lists Section -->
    <aside class="bg-slate-900/80 p-6 rounded-2xl shadow-lg fade-in">
      <h2 class="text-2xl font-bold mb-4">ğŸ“‚ Lists</h2>
      <div id="lists" class="space-y-2"></div>
      <div class="mt-4 flex">
        <input id="newList" class="flex-1 p-2 rounded-l-lg text-black" placeholder="New list" />
        <button onclick="addList()" class="bg-indigo-600 px-4 rounded-r-lg hover:bg-indigo-500 transition-all duration-300">+</button>
      </div>
    </aside>

    <!-- Tasks Section -->
    <section class="md:col-span-2 bg-slate-800/80 p-6 rounded-2xl shadow-lg fade-in">
      <h2 id="listTitle" class="text-3xl font-bold mb-6">ğŸ“ Your Tasks</h2>

      <!-- Add Task Form -->
      <div class="bg-slate-700/80 p-4 rounded-xl shadow mb-6">
        <form id="taskForm" class="grid md:grid-cols-3 gap-2">
          <input id="taskTitle" class="p-2 rounded-lg text-black" placeholder="Task title" required>
          <input id="taskDue" type="datetime-local" class="p-2 rounded-lg text-black">
          <button class="bg-green-600 hover:bg-green-500 rounded-lg px-4 py-2 transition-all duration-300">Add</button>
        </form>
      </div>

      <!-- Task List -->
      <ul id="taskList" class="space-y-3"></ul>
    </section>
  </main>

  <!-- Footer -->
  <footer class="bg-black/70 text-center py-4 mt-auto fade-in">
    <p class="text-lg italic">â€œSmall daily improvements lead to stunning long-term results.â€ ğŸš€</p>
  </footer>

  <script>
    const taskForm = document.getElementById("taskForm");
    const taskTitle = document.getElementById("taskTitle");
    const taskDue = document.getElementById("taskDue");
    const taskList = document.getElementById("taskList");
    const listsContainer = document.getElementById("lists");

    let tasks = JSON.parse(localStorage.getItem("tasks") || "[]");
    let lists = JSON.parse(localStorage.getItem("lists") || '["General"]');
    let activeList = localStorage.getItem("activeList") || "General";

    function saveData() {
      localStorage.setItem("tasks", JSON.stringify(tasks));
      localStorage.setItem("lists", JSON.stringify(lists));
      localStorage.setItem("activeList", activeList);
    }

    function renderLists() {
      listsContainer.innerHTML = "";
      lists.forEach(l => {
        const btn = document.createElement("button");
        btn.textContent = l;
        btn.className = `block w-full text-left px-3 py-2 rounded-lg ${l === activeList ? "bg-indigo-600" : "bg-slate-700 hover:bg-slate-600"} transition-all`;
        btn.onclick = () => { activeList = l; saveData(); renderLists(); renderTasks(); };
        listsContainer.appendChild(btn);
      });
    }

    function renderTasks() {
      taskList.innerHTML = "";
      tasks.filter(t => t.list === activeList).forEach((t, i) => {
        const li = document.createElement("li");
        li.className = "bg-slate-700/80 p-4 rounded-xl shadow-md flex justify-between items-center fade-in";
        li.innerHTML = `
          <div>
            <p class="font-semibold ${t.completed ? 'line-through text-gray-400' : ''}">${t.title}</p>
            ${t.due ? `<p class="text-sm text-gray-400">â° ${new Date(t.due).toLocaleString()}</p>` : ""}
          </div>
          <div class="space-x-2">
            <button onclick="toggleTask(${i})" class="bg-blue-600 hover:bg-blue-500 px-3 py-1 rounded-lg transition-all">${t.completed ? "Undo" : "Done"}</button>
            <button onclick="deleteTask(${i})" class="bg-red-600 hover:bg-red-500 px-3 py-1 rounded-lg transition-all">X</button>
          </div>
        `;
        li.classList.add("pop");
        taskList.appendChild(li);
      });
    }

    taskForm.addEventListener("submit", e => {
      e.preventDefault();
      const title = taskTitle.value.trim();
      if (!title) return;
      const due = taskDue.value ? new Date(taskDue.value).toISOString() : null;
      tasks.push({ title, due, completed: false, list: activeList });
      saveData();
      taskTitle.value = "";
      taskDue.value = "";
      renderTasks();
    });

    function toggleTask(i) {
      tasks[i].completed = !tasks[i].completed;
      saveData();
      renderTasks();
    }

    function deleteTask(i) {
      tasks.splice(i, 1);
      saveData();
      renderTasks();
    }

    function addList() {
      const input = document.getElementById("newList");
      const name = input.value.trim();
      if (!name || lists.includes(name)) return;
      lists.push(name);
      activeList = name;
      input.value = "";
      saveData();
      renderLists();
      renderTasks();
    }

    renderLists();
    renderTasks();
  </script>
</body>
</html>
